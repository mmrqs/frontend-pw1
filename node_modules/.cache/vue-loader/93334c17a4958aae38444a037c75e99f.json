{"remainingRequest":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/melaniemarques/fwd_folder/pw1_mmrqs/src/components/Main.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/src/components/Main.vue","mtime":1583091062955},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmV4ZXJjaXNlLWVkaXRvci1hY2UtZWRpdG9yIHsKIHBvc2l0aW9uOiByZWxhdGl2ZTsKIGhlaWdodDogMjByZW07Cn0K"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <div>\n      <h1>\n        Welcome, {{ this.$root.user.firstname }}\n        {{ this.$root.user.lastname }}\n      </h1>\n    </div>\n\n      <v-row justify=\"space-between\">\n      <v-col sm=\"6\" cols=\"12\">\n        <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"5\"\n        >\n        <v-text-field v-model=\"title\" label=\"Titre exercice\"></v-text-field>\n        </v-col>\n        <v-col\n          cols=\"12\"\n          md=\"5\"\n        >\n        <v-select\n          v-model=\"lang\"\n          :items=\"items\"\n          :rules=\"[v => !!v || 'Item is required']\"\n          label=\"Langage\"\n          required\n        ></v-select>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"2\"\n        >\n         <v-btn small color=\"primary\" @click=\"saveExercise\"> Save </v-btn>\n        </v-col>\n        </v-row>\n        <v-textarea\n          v-model=\"instructions\"\n          label=\"Consignes\"\n          required\n        ></v-textarea>\n        <h2>Template de résolution : </h2>\n        <div id=\"editorResolv\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <h2>Sortie console : </h2>\n             <v-alert type=\"info\" v-if=\"stdout\">\n                <p>{{ stdout }}</p>\n              </v-alert>\n      </v-col>\n\n      <v-col sm=\"6\" cols=\"12\">\n        <h2>Tests :</h2>\n        <div id=\"tests\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <v-row>\n        <h2> Sandbox : </h2>\n         <v-btn small color=\"primary\" @click=\"compile\"> Compile </v-btn>\n        </v-row>\n        <div id=\"solution\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <h2> Résultat des tests : </h2>\n\n           <v-list-item two-line v-for=\"(item) in todos\" :key=\"item.id\">\n             <v-alert type=\"warning\">\n              <v-list-item-content>\n                <v-list-item-title>{{ item.name }}</v-list-item-title>\n                <v-list-item-title>{{ item.line }}</v-list-item-title>\n                <v-list-item-title>{{ item.time }}</v-list-item-title>\n                <v-list-item-title v-if=\"item.message\">{{ item.message }}</v-list-item-title>\n              </v-list-item-content>\n              </v-alert>\n            </v-list-item>\n\n      </v-col>\n      </v-row>\n  </v-container>\n</template>\n\n<script>\nimport ace from 'ace-builds/src-noconflict/ace'\nimport 'ace-builds/src-noconflict/theme-monokai'\nimport 'ace-builds/src-noconflict/mode-python'\nimport 'ace-builds/webpack-resolver'\n\nexport default {\n  name: 'Main',\n  data: () => ({\n    state: false,\n    valid: false,\n    editorResolv: null,\n    editorTests: null,\n    editorSandbox: null,\n    items: ['Python'],\n    title: '',\n    instructions: '',\n    lang: 'Python',\n    difficulty: 5,\n    todos: [],\n    stdout: ''\n  }),\n  mounted () {\n    this.editor = ace.edit('editorResolv')\n    this.editor.setTheme('ace/theme/monokai')\n    this.editor.session.setMode(`ace/mode/${this.lang}`)\n\n    this.editorT = ace.edit('tests')\n    this.editorT.setTheme('ace/theme/monokai')\n    this.editorT.session.setMode(`ace/mode/${this.lang}`)\n\n    this.editorS = ace.edit('solution')\n    this.editorS.setTheme('ace/theme/monokai')\n    this.editorS.session.setMode(`ace/mode/${this.lang}`)\n  },\n  methods: {\n    async saveExercise () {\n      try {\n        const response = await this.axios.post('http://localhost:3000/api/v1/exercise', {\n          creation_date: new Date(),\n          title: this.title,\n          instructions: this.instructions,\n          tests: this.editorT.getValue(),\n          solution: this.editorS.getValue(),\n          lang: this.lang,\n          difficulty: this.difficulty,\n          score: 5,\n          template_regions_rw: [0],\n          template_regions: ['panda']\n        })\n        console.log(response)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async compile () {\n      try {\n        const resultR = await this.axios.post('http://localhost:3000/api/v1/exercise/sandbox', {\n          lang: 'python',\n          tests: this.editorT.getValue(),\n          solution: this.editorS.getValue()\n        })\n        this.stdout = resultR.data.stdout\n        this.todos = resultR.data.result.tests.map(item => {\n          if (item.failure) {\n            return {\n              name: 'name : ' + item.name,\n              line: 'line : ' + item.line,\n              time: 'time : ' + item.time,\n              message: 'message : ' + item.failure.message\n            }\n          }\n          return {\n            name: 'name : ' + item.name,\n            line: 'line : ' + item.line,\n            time: 'time : ' + item.time\n          }\n        }).sort((a, b) => a.line < b.line)\n      } catch (err) {\n        alert(err)\n        console.log(err)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.exercise-editor-ace-editor {\n position: relative;\n height: 20rem;\n}\n</style>\n"]}]}