{"remainingRequest":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/melaniemarques/fwd_folder/pw1_mmrqs/src/components/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/src/components/Main.vue","mtime":1583086817545},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/melaniemarques/fwd_folder/pw1_mmrqs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhY2UgZnJvbSAnYWNlLWJ1aWxkcy9zcmMtbm9jb25mbGljdC9hY2UnCmltcG9ydCAnYWNlLWJ1aWxkcy9zcmMtbm9jb25mbGljdC90aGVtZS1tb25va2FpJwppbXBvcnQgJ2FjZS1idWlsZHMvc3JjLW5vY29uZmxpY3QvbW9kZS1weXRob24nCmltcG9ydCAnYWNlLWJ1aWxkcy93ZWJwYWNrLXJlc29sdmVyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNYWluJywKICBkYXRhOiAoKSA9PiAoewogICAgc3RhdGU6IGZhbHNlLAogICAgdmFsaWQ6IGZhbHNlLAogICAgZWRpdG9yUmVzb2x2OiBudWxsLAogICAgZWRpdG9yVGVzdHM6IG51bGwsCiAgICBlZGl0b3JTYW5kYm94OiBudWxsLAogICAgaXRlbXM6IFsnUHl0aG9uJ10sCiAgICB0aXRsZTogJycsCiAgICBpbnN0cnVjdGlvbnM6ICcnLAogICAgbGFuZzogJ1B5dGhvbicsCiAgICBkaWZmaWN1bHR5OiA1LAogICAgdG9kb3M6IFtdCiAgfSksCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmVkaXRvciA9IGFjZS5lZGl0KCdlZGl0b3JSZXNvbHYnKQogICAgdGhpcy5lZGl0b3Iuc2V0VGhlbWUoJ2FjZS90aGVtZS9tb25va2FpJykKICAgIHRoaXMuZWRpdG9yLnNlc3Npb24uc2V0TW9kZShgYWNlL21vZGUvJHt0aGlzLmxhbmd9YCkKCiAgICB0aGlzLmVkaXRvclQgPSBhY2UuZWRpdCgndGVzdHMnKQogICAgdGhpcy5lZGl0b3JULnNldFRoZW1lKCdhY2UvdGhlbWUvbW9ub2thaScpCiAgICB0aGlzLmVkaXRvclQuc2Vzc2lvbi5zZXRNb2RlKGBhY2UvbW9kZS8ke3RoaXMubGFuZ31gKQoKICAgIHRoaXMuZWRpdG9yUyA9IGFjZS5lZGl0KCdzb2x1dGlvbicpCiAgICB0aGlzLmVkaXRvclMuc2V0VGhlbWUoJ2FjZS90aGVtZS9tb25va2FpJykKICAgIHRoaXMuZWRpdG9yUy5zZXNzaW9uLnNldE1vZGUoYGFjZS9tb2RlLyR7dGhpcy5sYW5nfWApCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzYXZlRXhlcmNpc2UgKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3YxL2V4ZXJjaXNlJywgewogICAgICAgICAgY3JlYXRpb25fZGF0ZTogbmV3IERhdGUoKSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLmluc3RydWN0aW9ucywKICAgICAgICAgIHRlc3RzOiB0aGlzLnRlc3RzQ29kZSwKICAgICAgICAgIGxhbmc6IHRoaXMubGFuZ3VhZ2UsCiAgICAgICAgICBkaWZmaWN1bHR5OiB0aGlzLmRpZmZpY3VsdHkKICAgICAgICB9KQogICAgICAgIGNvbnNvbGUubG9nKHsgcmVzcG9uc2UgfSkKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNvbXBpbGUgKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdFIgPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdjEvZXhlcmNpc2Uvc2FuZGJveCcsIHsKICAgICAgICAgIGxhbmc6ICdweXRob24nLAogICAgICAgICAgdGVzdHM6IHRoaXMuZWRpdG9yVC5nZXRWYWx1ZSgpLAogICAgICAgICAgc29sdXRpb246IHRoaXMuZWRpdG9yUy5nZXRWYWx1ZSgpCiAgICAgICAgfSkKCiAgICAgICAgdGhpcy50b2RvcyA9IHJlc3VsdFIuZGF0YS5yZXN1bHQudGVzdHMubWFwKGl0ZW0gPT4gewogICAgICAgICAgaWYgKGl0ZW0uZmFpbHVyZSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIG5hbWU6ICduYW1lIDogJyArIGl0ZW0ubmFtZSwKICAgICAgICAgICAgICBsaW5lOiAnbGluZSA6ICcgKyBpdGVtLmxpbmUsCiAgICAgICAgICAgICAgdGltZTogJ3RpbWUgOiAnICsgaXRlbS50aW1lLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICdtZXNzYWdlIDogJyArIGl0ZW0uZmFpbHVyZS5tZXNzYWdlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5hbWU6ICduYW1lIDogJyArIGl0ZW0ubmFtZSwKICAgICAgICAgICAgbGluZTogJ2xpbmUgOiAnICsgaXRlbS5saW5lLAogICAgICAgICAgICB0aW1lOiAndGltZSA6ICcgKyBpdGVtLnRpbWUKICAgICAgICAgIH0KICAgICAgICB9KS5zb3J0KChhLCBiKSA9PiBhLmxpbmUgPCBiLmxpbmUpCiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGFsZXJ0KGVycikKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <div>\n      <h1>\n        Welcome, {{ this.$root.user.firstname }}\n        {{ this.$root.user.lastname }}\n      </h1>\n    </div>\n\n      <v-row justify=\"space-between\">\n      <v-col sm=\"6\" cols=\"12\">\n        <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"5\"\n        >\n        <v-text-field v-model=\"title\" label=\"Titre exercice\"></v-text-field>\n        </v-col>\n        <v-col\n          cols=\"12\"\n          md=\"5\"\n        >\n        <v-select\n          v-model=\"lang\"\n          :items=\"items\"\n          :rules=\"[v => !!v || 'Item is required']\"\n          label=\"Langage\"\n          required\n        ></v-select>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"2\"\n        >\n         <v-btn small color=\"primary\" @click=\"saveExercise\"> Save </v-btn>\n        </v-col>\n        </v-row>\n        <v-textarea\n          v-model=\"instructions\"\n          label=\"Consignes\"\n          required\n        ></v-textarea>\n        <h2>Template de résolution : </h2>\n        <div id=\"editorResolv\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <h2>Sortie console : </h2>\n      </v-col>\n\n      <v-col sm=\"6\" cols=\"12\">\n        <h2>Tests :</h2>\n        <div id=\"tests\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <v-row>\n        <h2> Sandbox : </h2>\n         <v-btn small color=\"primary\" @click=\"compile\"> Compile </v-btn>\n        </v-row>\n        <div id=\"solution\" class=\"exercise-editor-ace-editor\"></div>\n        <br/>\n        <h2> Résultat des tests : </h2>\n\n           <v-list-item two-line v-for=\"(item) in todos\" :key=\"item.id\">\n             <v-alert type=\"warning\">\n              <v-list-item-content>\n                <v-list-item-title>{{ item.name }}</v-list-item-title>\n                <v-list-item-title>{{ item.line }}</v-list-item-title>\n                <v-list-item-title>{{ item.time }}</v-list-item-title>\n                <v-list-item-title v-if=\"item.message\">{{ item.message }}</v-list-item-title>\n              </v-list-item-content>\n              </v-alert>\n            </v-list-item>\n\n      </v-col>\n      </v-row>\n  </v-container>\n</template>\n\n<script>\nimport ace from 'ace-builds/src-noconflict/ace'\nimport 'ace-builds/src-noconflict/theme-monokai'\nimport 'ace-builds/src-noconflict/mode-python'\nimport 'ace-builds/webpack-resolver'\n\nexport default {\n  name: 'Main',\n  data: () => ({\n    state: false,\n    valid: false,\n    editorResolv: null,\n    editorTests: null,\n    editorSandbox: null,\n    items: ['Python'],\n    title: '',\n    instructions: '',\n    lang: 'Python',\n    difficulty: 5,\n    todos: []\n  }),\n  mounted () {\n    this.editor = ace.edit('editorResolv')\n    this.editor.setTheme('ace/theme/monokai')\n    this.editor.session.setMode(`ace/mode/${this.lang}`)\n\n    this.editorT = ace.edit('tests')\n    this.editorT.setTheme('ace/theme/monokai')\n    this.editorT.session.setMode(`ace/mode/${this.lang}`)\n\n    this.editorS = ace.edit('solution')\n    this.editorS.setTheme('ace/theme/monokai')\n    this.editorS.session.setMode(`ace/mode/${this.lang}`)\n  },\n  methods: {\n    async saveExercise () {\n      try {\n        const response = await this.axios.post('http://localhost:3000/api/v1/exercise', {\n          creation_date: new Date(),\n          title: this.title,\n          instructions: this.instructions,\n          tests: this.testsCode,\n          lang: this.language,\n          difficulty: this.difficulty\n        })\n        console.log({ response })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    async compile () {\n      try {\n        const resultR = await this.axios.post('http://localhost:3000/api/v1/exercise/sandbox', {\n          lang: 'python',\n          tests: this.editorT.getValue(),\n          solution: this.editorS.getValue()\n        })\n\n        this.todos = resultR.data.result.tests.map(item => {\n          if (item.failure) {\n            return {\n              name: 'name : ' + item.name,\n              line: 'line : ' + item.line,\n              time: 'time : ' + item.time,\n              message: 'message : ' + item.failure.message\n            }\n          }\n          return {\n            name: 'name : ' + item.name,\n            line: 'line : ' + item.line,\n            time: 'time : ' + item.time\n          }\n        }).sort((a, b) => a.line < b.line)\n      } catch (err) {\n        alert(err)\n        console.log(err)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.exercise-editor-ace-editor {\n position: relative;\n height: 20rem;\n}\n</style>\n"]}]}